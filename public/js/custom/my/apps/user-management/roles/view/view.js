"use strict";var UsersViewRole=function(){var e,t,o=()=>{const r=t.querySelectorAll('[type="checkbox"]'),c=document.querySelector('[data-view-roles-table-select="delete_selected"]');r.forEach((e=>{e.addEventListener("click",(function(){setTimeout((function(){n()}),50)}))})),c.addEventListener("click",(function(){Swal.fire({text:"Are you sure you want to delete selected customers?",icon:"warning",showCancelButton:!0,buttonsStyling:!1,confirmButtonText:"Yes, delete!",cancelButtonText:"No, cancel",customClass:{confirmButton:"btn fw-bold btn-danger",cancelButton:"btn fw-bold btn-active-light-primary"}}).then((function(c){c.value?Swal.fire({text:"You have deleted all selected customers!.",icon:"success",buttonsStyling:!1,confirmButtonText:"Ok, got it!",customClass:{confirmButton:"btn fw-bold btn-primary"}}).then((function(){r.forEach((t=>{t.checked&&e.row($(t.closest("tbody tr"))).remove().draw()}));t.querySelectorAll('[type="checkbox"]')[0].checked=!1})).then((function(){n(),o()})):"cancel"===c.dismiss&&Swal.fire({text:"Selected customers was not deleted.",icon:"error",buttonsStyling:!1,confirmButtonText:"Ok, got it!",customClass:{confirmButton:"btn fw-bold btn-primary"}})}))}))};const n=()=>{const e=document.querySelector('[data-view-roles-table-toolbar="base"]'),o=document.querySelector('[data-view-roles-table-toolbar="selected"]'),n=document.querySelector('[data-view-roles-table-select="selected_count"]'),r=t.querySelectorAll('tbody [type="checkbox"]');let c=!1,l=0;r.forEach((e=>{e.checked&&(c=!0,l++)})),c?(n.innerHTML=l,e.classList.add("d-none"),o.classList.remove("d-none")):(e.classList.remove("d-none"),o.classList.add("d-none"))};return{init:function(){(t=document.querySelector("#roles_view_table"))&&(t.querySelectorAll("tbody tr").forEach((e=>{const t=e.querySelectorAll("td"),o=moment(t[3].innerHTML,"DD MMM YYYY, LT").format();t[3].setAttribute("data-order",o)})),e=$(t).DataTable({info:!1,order:[],pageLength:5,lengthChange:!1,columnDefs:[{orderable:!1,targets:0},{orderable:!1,targets:4}]}),document.querySelector('[data-roles-table-filter="search"]').addEventListener("keyup",(function(t){e.search(t.target.value).draw()})),t.querySelectorAll('[data-roles-table-filter="delete_row"]').forEach((t=>{t.addEventListener("click",(function(t){t.preventDefault();const o=t.target.closest("tr"),n=o.querySelectorAll("td")[1].innerText;Swal.fire({text:"Are you sure you want to delete "+n+"?",icon:"warning",showCancelButton:!0,buttonsStyling:!1,confirmButtonText:"Yes, delete!",cancelButtonText:"No, cancel",customClass:{confirmButton:"btn fw-bold btn-danger",cancelButton:"btn fw-bold btn-active-light-primary"}}).then((function(t){t.value?Swal.fire({text:"You have deleted "+n+"!.",icon:"success",buttonsStyling:!1,confirmButtonText:"Ok, got it!",customClass:{confirmButton:"btn fw-bold btn-primary"}}).then((function(){e.row($(o)).remove().draw()})):"cancel"===t.dismiss&&Swal.fire({text:customerName+" was not deleted.",icon:"error",buttonsStyling:!1,confirmButtonText:"Ok, got it!",customClass:{confirmButton:"btn fw-bold btn-primary"}})}))}))})),o())}}}();Util.onDOMContentLoaded((function(){UsersViewRole.init()}));
//# sourceMappingURL=view.js.map
