{"version":3,"file":"chat.js","names":["AppChat","handeMessaging","element","messages","querySelector","input","value","length","message","messageOutTemplate","messageInTemplate","cloneNode","classList","remove","innerText","appendChild","scrollTop","scrollHeight","setTimeout","init","Util","on","e","keyCode","preventDefault","handeSend","onDOMContentLoaded","document"],"sources":["my/apps/chat/chat.js"],"mappings":"AAAA,aAGA,IAAIA,QAAU,WAEb,IAoBIC,EAAiB,SAASC,GAC7B,IAAIC,EAAWD,EAAQE,cAAc,6BACjCC,EAAQH,EAAQE,cAAc,0BAE5B,GAA2B,IAAvBC,EAAMC,MAAMC,OAAhB,CAIN,IAEIC,EAFAC,EAAqBN,EAASC,cAAc,iCAC5CM,EAAoBP,EAASC,cAAc,iCAI/CI,EAAUC,EAAmBE,WAAU,IAC/BC,UAAUC,OAAO,UACzBL,EAAQJ,cAAc,iCAAiCU,UAAYT,EAAMC,MACzED,EAAMC,MAAQ,GACdH,EAASY,YAAYP,GACrBL,EAASa,UAAYb,EAASc,aAG9BC,YAAW,YAEVV,EAAUE,EAAkBC,WAAU,IAC9BC,UAAUC,OAAO,UACzBL,EAAQJ,cAAc,iCAAiCU,UAAY,sCACnEX,EAASY,YAAYP,GACrBL,EAASa,UAAYb,EAASc,YAC/B,GAAG,IAtBG,CAuBP,EAGA,MAAO,CACNE,KAAM,SAASjB,IArDA,SAAUA,GACpBA,IAKLkB,KAAKC,GAAGnB,EAAS,yBAA0B,WAAW,SAASoB,GAC9D,GAAiB,IAAbA,EAAEC,QAIL,OAHAtB,EAAeC,GACfoB,EAAEE,kBAEK,CAET,IAEAJ,KAAKC,GAAGnB,EAAS,wBAAyB,SAAS,SAASoB,GAC3DrB,EAAeC,EAChB,IACD,CAoCEuB,CAAUvB,EACL,EAER,CA3Dc,GA8DdkB,KAAKM,oBAAmB,WAEpB1B,QAAQmB,KAAKQ,SAASvB,cAAc,oBAGvCJ,QAAQmB,KAAKQ,SAASvB,cAAc,0BACrC","sourcesContent":["\"use strict\";\r\n\r\n// Определение класса\r\nvar AppChat = function () {\r\n\t// Приватные методы\r\n\tvar handeSend = function (element) {\r\n\t\tif (!element) {\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\t// Handle send\r\n\t\tUtil.on(element, '[data-element=\"input\"]', 'keydown', function(e) {\r\n\t\t\tif (e.keyCode == 13) {\r\n\t\t\t\thandeMessaging(element);\r\n\t\t\t\te.preventDefault();\r\n\r\n\t\t\t\treturn false;\r\n\t\t\t}\r\n\t\t});\r\n\r\n\t\tUtil.on(element, '[data-element=\"send\"]', 'click', function(e) {\r\n\t\t\thandeMessaging(element);\r\n\t\t});\r\n\t}\r\n\r\n\tvar handeMessaging = function(element) {\r\n\t\tvar messages = element.querySelector('[data-element=\"messages\"]');\r\n\t\tvar input = element.querySelector('[data-element=\"input\"]');\r\n\r\n        if (input.value.length === 0 ) {\r\n            return;\r\n        }\r\n\r\n\t\tvar messageOutTemplate = messages.querySelector('[data-element=\"template-out\"]');\r\n\t\tvar messageInTemplate = messages.querySelector('[data-element=\"template-in\"]');\r\n\t\tvar message;\r\n\t\t\r\n\t\t// Show example outgoing message\r\n\t\tmessage = messageOutTemplate.cloneNode(true);\r\n\t\tmessage.classList.remove('d-none');\r\n\t\tmessage.querySelector('[data-element=\"message-text\"]').innerText = input.value;\t\t\r\n\t\tinput.value = '';\r\n\t\tmessages.appendChild(message);\r\n\t\tmessages.scrollTop = messages.scrollHeight;\r\n\t\t\r\n\t\t\r\n\t\tsetTimeout(function() {\t\t\t\r\n\t\t\t// Show example incoming message\r\n\t\t\tmessage = messageInTemplate.cloneNode(true);\t\t\t\r\n\t\t\tmessage.classList.remove('d-none');\r\n\t\t\tmessage.querySelector('[data-element=\"message-text\"]').innerText = 'Thank you for your awesome support!';\r\n\t\t\tmessages.appendChild(message);\r\n\t\t\tmessages.scrollTop = messages.scrollHeight;\r\n\t\t}, 2000);\r\n\t}\r\n\r\n\t// Публичные методы\r\n\treturn {\r\n\t\tinit: function(element) {\r\n\t\t\thandeSend(element);\r\n        }\r\n\t};\r\n}();\r\n\r\n// При загрузке документа\r\nUtil.onDOMContentLoaded(function () {\r\n\t// Init inline chat messenger\r\n    AppChat.init(document.querySelector('#chat_messenger'));\r\n\r\n\t// Init drawer chat messenger\r\n\tAppChat.init(document.querySelector('#drawer_chat_messenger'));\r\n});\r\n"]}